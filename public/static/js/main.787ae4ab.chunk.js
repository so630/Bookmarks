(this["webpackJsonpreact-dev"]=this["webpackJsonpreact-dev"]||[]).push([[0],{10:function(t,e,n){},16:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(9),o=n.n(a),i=n(11),s=n(2),l=n(3),r=(n(16),n(10),n(0));function d(t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"form-control",autoComplete:"off",name:"link",onChange:t.onChange,style:{marginBottom:"10px"},placeholder:"Link..."}),Object(r.jsx)("input",{className:"form-control",autoComplete:"off",name:"title",limit:"24",onChange:t.onChange,style:{marginBottom:"10px"},placeholder:"Title..."}),Object(r.jsx)("button",{className:"btn btn-secondary",style:{marginRight:"10px"},onClick:t.update,children:"Add Link"}),Object(r.jsx)("button",{class:"btn btn-secondary",onClick:t.cancel,children:"Cancel"})]})}var u=function(t){var e=Object(c.useState)({title:"",link:""}),n=Object(l.a)(e,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),u=s[0],f=s[1],j=Object(c.useState)(t.header),b=Object(l.a)(j,2),h=b[0],p=b[1];function O(e){var n=e.target.parentNode.parentNode.childNodes[0].textContent,c=-1;t.links.forEach((function(t,e){t.title==n&&(c=e)})),window.confirm("Are you sure you want to delete this link?")&&(t.setEdit(!1),t.del(c,t.header))}function m(){f(!u)}return Object(r.jsxs)("div",{className:"card",children:[t.isEdit?Object(r.jsx)("a",{className:"delete category",style:{color:"#dc3545"},onClick:function(){window.confirm("Are you sure you want to delete this category?")&&(t.setEdit(!1),t.delc(t.header))},children:Object(r.jsx)("i",{class:"fas fa-times"})}):null,Object(r.jsx)("i",{class:"fas fa-bookmark",style:{position:"absolute",top:"0",left:"15px"}}),t.isEdit?Object(r.jsx)("input",{type:"text",defaultValue:h,onChange:function(e){p(e.target.value),t.change(t.header,e.target.value)},className:"header-input"}):Object(r.jsx)("h1",{className:"header",children:h}),Object(r.jsx)("hr",{}),t.links.map((function(e,n){return Object(r.jsxs)("h1",{className:"link-h1",children:[Object(r.jsx)("a",{className:"link",href:e.link,target:"_blank",children:e.title},n),t.isEdit?Object(r.jsx)("a",{className:"delete",onClick:O,children:Object(r.jsx)("i",{class:"far fa-trash-alt"})},n):null]})})),0==t.links.length?null:Object(r.jsx)("hr",{}),u?Object(r.jsx)(d,{onChange:function(t){var e=t.target.name,n=t.target.value;o("link"==e?function(t){return{title:t.title,link:n}}:function(t){return{title:n,link:t.link}})},update:function(){document.querySelectorAll(".form-control").forEach((function(t){t.value=""})),t.update(a,t.header)},cancel:m}):Object(r.jsx)("button",{className:"btn btn-secondary",onClick:m,children:"Add Link"})]})},f=n(7);new f.a;var j=function(t){var e=Object(c.useState)(""),n=Object(l.a)(e,2),a=n[0],o=n[1];return Object(r.jsxs)("div",{className:"card-form",children:[Object(r.jsx)("input",{className:"form-control",style:{marginBottom:"10px"},onChange:function(t){o(t.target.value)},placeholder:"Enter the title...",type:"text"}),Object(r.jsx)("button",{className:"btn btn-secondary",onClick:function(e){t.submit(a)},style:{float:"right",padding:"6px 14px"},children:"+"}),Object(r.jsx)("button",{className:"btn btn-secondary",onClick:t.cancel,style:{float:"left"},children:"Cancel"})]})},b=(n(18),new f.a);function h(t){var e=t.links,n=t.update,c=t.del,a=t.setEdit,o=t.isEdit,i=t.delc,s=t.changeHeader;return Object(r.jsx)("div",{style:{display:"block",width:"100%"},children:Object(r.jsx)("div",{style:{display:"flex",alignItems:"start",flexWrap:"wrap"},children:e.map((function(t){return Object(r.jsx)(u,{links:t.links,header:t.title,change:s,update:n,del:c,setEdit:a,isEdit:o,delc:i})}))})})}var p=function(){var t=b.get("username"),e=[];Object(c.useEffect)((function(){fetch("/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})}).then((function(t){t.json().then((function(t){e=t,console.log(t)})).then((function(){O(e)}))}))}),[]);var n=Object(c.useState)(!1),a=Object(l.a)(n,2),o=a[0],d=a[1],u=Object(c.useState)(e),f=Object(l.a)(u,2),p=f[0],O=f[1],m=Object(c.useState)(!1),y=Object(l.a)(m,2),x=y[0],g=y[1];return Object(c.useEffect)((function(){x?document.addEventListener("keydown",(function(t){13==t.code&&(window.confirm("Are you sure you want to confirm this edit?")&&g(!1))})):document.addEventListener("keydown",(function(){}))}),[x]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{style:Object(i.a)({fontSize:"40px",textAlign:"center",display:"block",float:"center",fontFamily:"'McLaren', cursive"},"fontSize","45px"),children:Object(r.jsx)("em",{children:"Bookmarks"})}),Object(r.jsx)(h,{links:p,update:function(e,n){O((function(c){var a=c;return a.forEach((function(t){t.title==n&&t.links.push(e)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,data:Object(s.a)(a)})}).then((function(t){console.log("req sent")})),Object(s.a)(a)}))},del:function(e,n){O((function(c){var a=c;return a.forEach((function(t){t.title==n&&t.links.splice(e,1)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,data:Object(s.a)(a)})}).then((function(t){console.log("req sent")})),Object(s.a)(a)}))},setEdit:g,isEdit:x,delc:function(e){O((function(n){var c=n;return c.forEach((function(t,n){t.title==e&&c.splice(n,1)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,data:Object(s.a)(c)})}).then((function(t){console.log("req sent")})),Object(s.a)(c)}))},changeHeader:function(e,n){O((function(c){var a=c;return a.forEach((function(t,c){t.title===e&&(t.title=n)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,data:Object(s.a)(a)})}),Object(s.a)(a)}))}}),Object(r.jsxs)("div",{style:{position:"fixed",bottom:"15px",left:"10px",display:"inline-flex"},children:[o?Object(r.jsx)(j,{cancel:function(){d(!1)},submit:function(e){O((function(n){return fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,data:[].concat(Object(s.a)(n),[{title:e,links:[]}])})}).then((function(t){console.log("req sent")})),[].concat(Object(s.a)(n),[{title:e,links:[]}])}))}}):Object(r.jsx)("button",{class:"btn btn-success",onClick:function(){d(!0)},children:"Add Category"}),Object(r.jsx)("button",{class:"btn btn-danger edit",onClick:function(){return g(!x)},children:x?Object(r.jsx)("i",{class:"fas fa-times"}):"Edit"}),Object(r.jsxs)("div",{style:{position:"fixed",top:"5px",right:"5px"},children:[Object(r.jsx)("button",{class:"btn btn-primary",onClick:function(){localStorage.setItem("store",JSON.stringify(p)),alert("successfully stored bookmarks locally")},style:{marginRight:"10px"},children:"Store Locally"}),Object(r.jsx)("button",{class:"btn btn-primary",onClick:function(){var t=localStorage.getItem("store");t?O(JSON.parse(t)):alert("You cannot load from storage if you don't have anything stored")},children:"Load from local storage"})]})]})]})};o.a.render(Object(r.jsx)(p,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.787ae4ab.chunk.js.map