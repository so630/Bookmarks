(this["webpackJsonpreact-dev"]=this["webpackJsonpreact-dev"]||[]).push([[0],{10:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(9),i=n.n(a),o=n(11),s=n(2),l=n(3),r=(n(16),n(10),n(0));function d(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{className:"form-control",autoComplete:"off",name:"link",onChange:e.onChange,style:{marginBottom:"10px"},placeholder:"Link..."}),Object(r.jsx)("input",{className:"form-control",autoComplete:"off",name:"title",limit:"24",onChange:e.onChange,style:{marginBottom:"10px"},placeholder:"Title..."}),Object(r.jsx)("button",{className:"btn btn-secondary",style:{marginRight:"10px"},onClick:e.update,children:"Add Link"}),Object(r.jsx)("button",{class:"btn btn-secondary",onClick:e.cancel,children:"Cancel"})]})}var u=function(e){var t=Object(c.useState)({title:"",link:""}),n=Object(l.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(!1),s=Object(l.a)(o,2),u=s[0],f=s[1],j=Object(c.useState)(e.header),b=Object(l.a)(j,2),h=b[0],O=b[1];function p(t){var n=t.target.parentNode.parentNode.childNodes[0].textContent,c=-1;e.links.forEach((function(e,t){e.title==n&&(c=t)})),window.confirm("Are you sure you want to delete this link?")&&(e.setEdit(!1),e.del(c,e.header))}function m(){f(!u)}return Object(r.jsxs)("div",{className:"card",children:[e.isEdit?Object(r.jsx)("a",{className:"delete category",style:{color:"#dc3545"},onClick:function(){window.confirm("Are you sure you want to delete this category?")&&(e.setEdit(!1),e.delc(e.header))},children:Object(r.jsx)("i",{class:"fas fa-times"})}):null,Object(r.jsx)("i",{class:"fas fa-bookmark",style:{position:"absolute",top:"0",left:"15px"}}),e.isEdit?Object(r.jsx)("input",{type:"text",defaultValue:h,onChange:function(t){O(t.target.value),e.change(e.header,t.target.value)},className:"header-input"}):Object(r.jsx)("h1",{className:"header",children:h}),Object(r.jsx)("hr",{}),e.links.map((function(t,n){return Object(r.jsxs)("h1",{className:"link-h1",children:[Object(r.jsx)("a",{className:"link",href:t.link,target:"_blank",children:t.title},n),e.isEdit?Object(r.jsx)("a",{className:"delete",onClick:p,children:Object(r.jsx)("i",{class:"far fa-trash-alt"})},n):null]})})),0==e.links.length?null:Object(r.jsx)("hr",{}),u?Object(r.jsx)(d,{onChange:function(e){var t=e.target.name,n=e.target.value;i("link"==t?function(e){return{title:e.title,link:n}}:function(e){return{title:n,link:e.link}})},update:function(){document.querySelectorAll(".form-control").forEach((function(e){e.value=""})),e.update(a,e.header)},cancel:m}):Object(r.jsx)("button",{className:"btn btn-secondary",onClick:m,children:"Add Link"})]})},f=n(7);new f.a;var j=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(r.jsxs)("div",{className:"card-form",children:[Object(r.jsx)("input",{className:"form-control",style:{marginBottom:"10px"},onChange:function(e){i(e.target.value)},placeholder:"Enter the title...",type:"text"}),Object(r.jsx)("button",{className:"btn btn-secondary",onClick:function(t){e.submit(a)},style:{float:"right",padding:"6px 14px"},children:"+"}),Object(r.jsx)("button",{className:"btn btn-secondary",onClick:e.cancel,style:{float:"left"},children:"Cancel"})]})},b=(n(18),new f.a);function h(e){var t=e.links,n=e.update,c=e.del,a=e.setEdit,i=e.isEdit,o=e.delc,s=e.changeHeader;return Object(r.jsx)("div",{style:{display:"block",width:"100%"},children:Object(r.jsx)("div",{style:{display:"flex",alignItems:"start",flexWrap:"wrap"},children:t.map((function(e){return Object(r.jsx)(u,{links:e.links,header:e.title,change:s,update:n,del:c,setEdit:a,isEdit:i,delc:o})}))})})}var O=function(){var e=b.get("username"),t=[];Object(c.useEffect)((function(){fetch("/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}).then((function(e){e.json().then((function(e){t=e,console.log(e)})).then((function(){p(t)}))}))}),[]);var n=Object(c.useState)(!1),a=Object(l.a)(n,2),i=a[0],d=a[1],u=Object(c.useState)(t),f=Object(l.a)(u,2),O=f[0],p=f[1],m=Object(c.useState)(!1),x=Object(l.a)(m,2),y=x[0],g=x[1];return Object(c.useEffect)((function(){y?document.addEventListener("keydown",(function(e){13==e.code&&(window.confirm("Are you sure you want to confirm this edit?")&&g(!1))})):document.addEventListener("keydown",(function(){}))}),[y]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{style:Object(o.a)({fontSize:"40px",textAlign:"center",display:"block",float:"center",fontFamily:"'McLaren', cursive"},"fontSize","45px"),children:Object(r.jsx)("em",{children:"Bookmarks"})}),Object(r.jsx)(h,{links:O,update:function(t,n){p((function(c){var a=c;return a.forEach((function(e){e.title==n&&e.links.push(t)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,data:Object(s.a)(a)})}).then((function(e){console.log("req sent")})),Object(s.a)(a)}))},del:function(t,n){p((function(c){var a=c;return a.forEach((function(e){e.title==n&&e.links.splice(t,1)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,data:Object(s.a)(a)})}).then((function(e){console.log("req sent")})),Object(s.a)(a)}))},setEdit:g,isEdit:y,delc:function(t){p((function(n){var c=n;return c.forEach((function(e,n){e.title==t&&c.splice(n,1)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,data:Object(s.a)(c)})}).then((function(e){console.log("req sent")})),Object(s.a)(c)}))},changeHeader:function(t,n){p((function(c){var a=c;return a.forEach((function(e,c){e.title===t&&(e.title=n)})),fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,data:Object(s.a)(a)})}),Object(s.a)(a)}))}}),Object(r.jsxs)("div",{style:{position:"fixed",bottom:"15px",left:"10px",display:"inline-flex"},children:[i?Object(r.jsx)(j,{cancel:function(){d(!1)},submit:function(t){p((function(n){return fetch("/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,data:[].concat(Object(s.a)(n),[{title:t,links:[]}])})}).then((function(e){console.log("req sent")})),[].concat(Object(s.a)(n),[{title:t,links:[]}])}))}}):Object(r.jsx)("button",{class:"btn btn-success",onClick:function(){d(!0)},children:"Add Category"}),Object(r.jsx)("button",{class:"btn btn-danger edit",onClick:function(){return g(!y)},children:y?Object(r.jsx)("i",{class:"fas fa-times"}):"Edit"})]})]})};i.a.render(Object(r.jsx)(O,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4d9065fa.chunk.js.map